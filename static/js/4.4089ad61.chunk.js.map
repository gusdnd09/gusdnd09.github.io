{"version":3,"sources":["Detail.js"],"names":["박스","styled","div","제목","h4","props","색상","TabContent","useEffect","스위치변경","누른탭","Info","재고","id","Alert","className","connect","state","console","log","reducer","alert열렸니","reducer2","useState","alertState","alertState변경","input","input변경","useContext","재고context","useParams","watch_id","누른탭변경","스위치","timer","setTimeout","clearTimeout","arr","localStorage","getItem","JSON","parse","push","Set","setItem","stringify","parseInt","findItem","shoes","find","history","useHistory","type","onChange","e","target","value","src","width","title","content","price","onClick","temp재고","재고변경","dispatch","payload","name","quan","goBack","variant","defaultActiveKey","Item","Link","eventKey","in","classNames","timeout"],"mappings":"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","file":"static/js/4.4089ad61.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback, useContext } from 'react';\r\nimport { Nav } from 'react-bootstrap'\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport './Detail.scss';\r\nimport {재고context} from './App.js';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { connect } from 'react-redux';\r\n\r\nlet 박스 = styled.div`\r\n\tpadding : 20px;\r\n`;\r\n\r\nlet 제목 = styled.h4`\r\n\tfont-size : 25px;\r\n\tcolor : ${ props => props.색상 }\r\n`;\r\n\r\n// class방식\r\n// class Detail2 extends React.Component {\r\n\r\n// \tcomponentDidMount() {\r\n\r\n// \t}\r\n\r\n// \tcomponentWillUnmount() {\r\n\r\n// \t}\r\n\r\n// }\r\n\r\nfunction Detail(props) {\r\n\tlet [ alertState, alertState변경 ] = useState(true);\r\n\tlet [ input, input변경 ] = useState('');\r\n\tlet 재고 = useContext(재고context);\r\n\tlet { id } = useParams();\r\n\tlet watch_id = id;\r\n\tlet [누른탭, 누른탭변경] = useState(0);\r\n\tlet [스위치, 스위치변경] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log('what?');\r\n\t\tlet timer = setTimeout(()=>{\r\n\t\t\talertState변경(false);\r\n\t\t}, 2000);\r\n\t\treturn ()=> { clearTimeout(timer) }\r\n\t\t//setTimeout같은 함수는 예로 2초안에 페이지 나가면 timer 문제생길까봐 return에서 clear 시켜줌\r\n\t},[alertState]); \r\n\t//중요!! [] 빈칸이면 _ <- 가 변경될때 실행이라 페이지 로딩시 한번만 실행.\r\n\r\n\tuseEffect(() => {\r\n\t\t// if(localStorage.getItem('shoes') === null){\r\n\t\t\t// localStorage.setItem('shoes',JSON.stringify([id]));\r\n\t\t// }else{\r\n\t\t\t// if(!JSON.parse(localStorage.getItem('shoes')).includes(id)) {\r\n\t\t\t// \tlet storage = JSON.parse(localStorage.getItem('shoes'));\r\n\t\t\t// \tstorage.push(id);\r\n\t\t\t// \tconsole.log(storage);\r\n\t\t\t// \tlocalStorage.setItem('shoes',JSON.stringify(storage));\t\r\n\t\t\t// }\t\t\t\r\n\t\t// }\r\n\t\tvar arr = localStorage.getItem('watched');\r\n\t\tif(arr === null) {arr = []} else {arr = JSON.parse(arr)}\r\n\t\tarr.push(watch_id);\r\n\t\tarr = new Set(arr);\r\n\t\tarr = [...arr];\r\n\t\tlocalStorage.setItem('watched',JSON.stringify(arr));\t\r\n\t},[]);\r\n\t\r\n\r\n\r\n\tid = parseInt(id);\r\n\tlet findItem = props.shoes.find(function (shoes) {\r\n\t\treturn shoes.id === id;\r\n\t});\r\n\tlet history = useHistory();\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<박스>\r\n\t\t\t\t<제목 className=\"red\">Detail</제목>\r\n\t\t\t\t{/* <제목 색상={'blue'}>상세페이지</제목> */}\r\n\t\t\t</박스>\r\n\t\t\t<input type=\"text\" onChange={(e)=>{ input변경(e.target.value); }}/>\r\n\t\t\t{input}\r\n\t\t\t{\r\n\t\t\t\talertState === true ? <Alert /> : null\r\n\t\t\t}\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t<img src={`https://codingapple1.github.io/shop/shoes${id + 1}.jpg`} width=\"100%\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-md-6 mt-4\">\r\n\t\t\t\t\t<h4 className=\"pt-5\">{findItem.title}</h4>\r\n\t\t\t\t\t<p>{findItem.content}</p>\r\n\t\t\t\t\t<p>{findItem.price}</p>\r\n\t\t\t\t\t<Info 재고={props.재고} id={findItem.id} ></Info>\r\n\t\t\t\t\t<button className=\"btn btn-danger\" onClick={ ()=>{ \r\n\t\t\t\t\t\tvar temp재고 = [...props.재고];\r\n\t\t\t\t\t\ttemp재고[id] = temp재고[id]-1;\r\n\t\t\t\t\t\tprops.재고변경(temp재고);\r\n\t\t\t\t\t\tprops.dispatch({type: '항목추가', payload: {id: props.shoes[findItem.id].id, name: props.shoes[findItem.id].title, quan: 1}});\r\n\t\t\t\t\t\thistory.push('/cart'); //페이지 이동 강제로 시켜줘서 data 리셋 없이 이동\r\n\t\t\t\t\t } } >주문하기</button>\r\n\t\t\t\t\t<button className=\"btn btn-warning\" onClick={() => {\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>뒤로가기</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Nav className=\"mt-5\" variant=\"tabs\" defaultActiveKey=\"/link-0\">\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey=\"link-0\" onClick={()=>{ 스위치변경(false); 누른탭변경(0) }}>Active</Nav.Link>\r\n\t\t\t\t</Nav.Item>\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey=\"link-1\" onClick={()=>{ 스위치변경(false); 누른탭변경(1) }}>Option 2</Nav.Link>\r\n\t\t\t\t</Nav.Item>\r\n\t\t\t\t<Nav.Item>\r\n\t\t\t\t\t<Nav.Link eventKey=\"link-2\" onClick={()=>{ 스위치변경(false); 누른탭변경(2) }}>Option 3</Nav.Link>\r\n\t\t\t\t</Nav.Item>\r\n\t\t\t</Nav>\r\n\t\t\t\r\n\t\t\t<CSSTransition in={스위치} classNames=\"wow\" timeout={500}>\r\n\t\t\t\t<TabContent 누른탭={누른탭} 스위치변경={스위치변경} />\r\n\t\t\t</CSSTransition>\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction TabContent(props) {\r\n\r\n\tuseEffect(()=>{\r\n\t\tprops.스위치변경(true);\r\n\t})\r\n\r\n\tif(props.누른탭 === 0) {\r\n\t\treturn <div>0번째 내용입니다</div>\r\n\t} else if(props.누른탭 === 1) {\r\n\t\treturn <div>1번째 내용입니다</div>\r\n\t} else if(props.누른탭 === 2) {\r\n\t\treturn <div>2번째 내용입니다</div>\r\n\t}\r\n\r\n}\r\n\r\nfunction Info(props) {\r\n\treturn (\r\n\t\t<p>재고 : {props.재고[props.id]}</p>\r\n\t)\r\n}\r\n\r\nfunction Alert() {\r\n\treturn (\r\n\t\t<div className=\"my-alert2\">\r\n\t\t\t<p>재고가 얼마 남지 않았습니다.</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction state를props화(state) {\r\n\tconsole.log(state);\r\n\treturn {\r\n\t\tstate: state.reducer,\r\n\t\talert열렸니 : state.reducer2\r\n\t}\r\n}\r\n\r\n// export default Detail;\r\nexport default connect (state를props화)(Detail)"],"sourceRoot":""}